!function(a){var b,c,d,e,f={},g={},h=[];a(document).on("click.suggestor",function(e){var g=a(e.target).closest(".suggest");f[g.attr("id")]&&g.is(".suggest")||a.each(f,function(e,g){b=a(this).attr("id").split("_")[1],c=a(this).parent().find(".sugInp"),d=c.val(),d&&c.val(d.replace(/,\s*$/,"")),a(this).removeClass("slideDown"),delete f[b]})});var i=ncCacheFactory.getCache("sgtr"),j=function(){return"undefined"!=typeof Storage?!0:!1},l=function(b,c){var d=a.stringify(c);navigator.sendBeacon&&b?navigator.sendBeacon(b,d):j()&&i.setItem("sug_Tracking",c)},m=function(a,b,c,d,e,f){var g;return g="autoconcepts"==d?{type:"ac",acFor:c,sel:a,pos:b,cached:e}:"relatedConcept"==d?{type:"rc",rcFor:f,sel:a,pos:b,cached:e}:{sel:a,pos:b}},n=function(a,b,c,d,e,f,h){g[a].Events.push(m(b,c,d,e,f,h))};a(window).unload(function(){a(".sugInp").each(function(b,c){var d=a(this).attr("trackParams"),e=a(this).val();d=d?a.parseJSON(d):null,d&&(e||g[d.id].Events.length?(g[d.id].Events.length||(h=[],n(d.id,e,0)),d.sourceId&&(g[d.id].sId=d.sourceId),d.appId&&(g[d.id].appId=d.appId),d.platform&&(g[d.id].platform=d.platform),d.formId&&(g[d.id].formId=d.formId),d.trackingSrc&&(g[d.id].trackingSrc=d.trackingSrc)):g[d.id].Events.length||delete g[d.id])}),a.isEmptyObject(g)||l(e,{lgData:g})}),a.fn.suggestor=function(b){if(!(b.domain||b.url.autoComplete&&b.url.relatedConcept&&b.url.checkVersion&&b.url.prefetch))throw Error("One or more mandatory parameters are missing, please refer documentation. https://github.com/saeed3e/suggestjs/blob/gh-pages/README.md");var c={url:{autoComplete:b.domain+"/suggest/autosuggest?",relatedConcept:b.domain+"/suggest/autoconcepts?",checkVersion:b.domain+"/suggest/v?",prefetch:b.domain+"/suggest/prefetch?"},relatedConcept_dataLayer:!0,autoCorrect_dataLayer:!0,maxSuggestions:15,maxHeight:300,multiSearch:!1,startSearchAfter:1,suggestOnClick:!1,whiteListSpecialChar:[],relatedCorrectionText:"Did you mean ?",relatedConceptText:"Related Skills",glbArray:!1,placeholder:!1,trackUserInteraction:!1,grouping:!0,isPrefetch:!0,source:"server",scrollStyle:"",returnFocus:!0,form:!1,showDataOnFocus:!1,storageKey:{prefetchKey:"__suggest_prefetch",versionKey:"__suggest_versions"},titleForSingleBucket:"Last Searched Keywords"},d=a.extend(!0,{},c,b),l=function(b,c,e){if(b){var f=this,g=f.id;a.jsonp({url:b+"&callback=suggestCallback",cache:!0,callback:"suggestCallback",beforeSend:function(){e||a("#"+g+" .nLoder").show()},success:function(b){f.cached=!1,b.resultList?a.isEmptyObject(b.resultList)&&f.dropCont.hasClass("slideDown")?V.call(f):(f.dataType="autoconcepts",c(b),d.vertical=b.vertical):b.resultConcepts?(a.isEmptyObject(b.resultConcepts)?V.call(f):(f.dataType="relatedConcept",d.getRelatedConcepts&&d.getRelatedConcepts(b,f.Qry),d.relatedConcept_dataLayer&&c(b)),f.RCMaxCntr++):b.resultCorrections?(a.isEmptyObject(b.resultCorrections)?V.call(f):(f.dataType="relatedConcept",d.getAutoCorrect&&d.getAutoCorrect(b,f.Qry),d.autoCorrect_dataLayer&&c(b)),f.RCMaxCntr++):c(b)},complete:function(){f.node.find(".nLoder").hide()},error:function(a,b){f.node.find(".nLoder").hide(),V.call(f)}})}},m=function(){var a=this;a.rs_kWrds=[],a.rs_kWrdsStr="";var b=d.showDataOnFocus;b&&(a.rs_kWrds=b,a.rs_kWrds.length&&(a.rs_kWrdsStr=a.rs_kWrds.join(",").replace(/\s,|,\s/g,",")));var c=d.storageKey,e=c.userCookie?getCookie(c.userCookie):!1,f=d.vertical?"&vertical="+d.vertical:"",g=M();return e?{key:c.prefetchKey+"/uId/"+e,url:d.url.prefetch+"&"+Math.random(1,100)+"&keywords="+a.rs_kWrdsStr+"&uid="+e+f+g,keywords:a.rs_kWrdsStr}:a.rs_kWrdsStr?{key:c.prefetchKey,url:d.url.prefetch+"&"+Math.random(1,100)+"&keywords="+a.rs_kWrdsStr+f+g,keywords:a.rs_kWrdsStr}:{key:c.prefetchKey,url:d.url.prefetch+"&"+Math.random(1,100)+"&keywords="+f+g,keywords:a.rs_kWrdsStr}},o=function(b,c){if(d.vertical=c.vertical,d.vertical){var e=c.ac,f=c.rc,g=d.category,h=d.relatedConceptCategory;for(key in e)for(k in e[key])if(g[k]){var i=k+"_"+d.vertical;e[key][i]=e[key][k],delete e[key][k]}else delete e[key][k];for(key in f)for(k in f[key])if(h[k]){var i=k+"_"+d.vertical;f[key][i]=f[key][k],delete f[key][k]}else delete f[key][k];var j=a.extend(!0,{},b.ac,e),l=a.extend(!0,{},b.rc,f)}else var j=a.extend(!0,{},b.ac,c.ac),l=a.extend(!0,{},b.rc,c.rc);return{ac:j,rc:l,ttl:c.ttl,segments:c.segments,keyword_based_data:c.keyword_based_data}},p=function(){var a=this;d.url.checkVersion+=Math.random(0,100),a.prefetchObj=m.call(a),!window.isFistCall&&d.url.prefetch&&j()&&d.isPrefetch&&(l.call(a,d.url.checkVersion,function(b){u(d.storageKey.versionKey,b);var c=i.getItem(a.prefetchObj.key);if(c)(a.prefetchObj.keywords&&c.keyword_based_data===!1||+new Date(c.ttl)-+new Date<0)&&l.call(a,a.prefetchObj.url+"&segments="+c.segments,function(b){u(a.prefetchObj.key,o(c,b))});else{isDataExist=i.getItem(d.storageKey.prefetchKey);var e=isDataExist?isDataExist.segments:"";l.call(a,a.prefetchObj.url+"&segments="+e,function(b){u(a.prefetchObj.key,b)},!0)}},!0),isFistCall=!0)},q=function(a,b){var c=b,d=b;if(a.setSelectionRange)a.focus(),a.setSelectionRange(c,d);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select()}},r=function(a){return a.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&")},s=function(b){return b=a.trim(b).toLowerCase(),b=a.trim(b.substring(b.lastIndexOf(",")+1,b.length))},t=function(b){var c=a.trim(b).replace(/,*$/g,"");return a.trim(c.substring(c.lastIndexOf(",")+1,c.length)).toLowerCase()},u=function(a,b){i.setItem(a,b)},v=function(a,b){if(this.prefetchObj){var c=i.getItem(this.prefetchObj.key);return c&&c[b]&&c[b][a]||(c=i.getItem(d.storageKey.prefetchKey)),c?c[b][a]:!1}return!1},w=function(){var a=this,b=a.inpElm.val();b&&a.inpElm.val(b.replace(/,\s*$/,""))},x=function(b){var c=this,e=c.inpElm.val(),f=e.substring(0,e.lastIndexOf(",")+1);return f=f?f+" ":"",b=a.trim(r(b).replace(/,*$/g,"")),d.multiSearch?f+b+", ":b},y=function(b,c){return a.inArray(b[0],c.find("li.sugTouple"))+1},A=function(a,b){var c=this,e=c.id,f=c.inpElm,g=a.html(),i=x.call(c,g);c.enableRC_for_onfocus=!1,i.length<d.maxlength?(f.val(i),d.trackUserInteraction&&(h=[],n(e,s(i.replace(/[,\s]*$/,"")),c.posIndex,s(c.queryChar),c.dataType,c.cached,c.Qry)),d.returnFocus&&q(f[0],f.val().length),b&&Q.call(c,f.val()),d.onSelect&&d.onSelect(e,r(g),f,c)):d.onSelect&&d.onSelect(e,"Warning: maximum length reached",f,c)},B=function(a){var b=this,c=b.dropCont.find(a);return c=c.hasClass("category")?c.next():c},C=function(a){a&&a.find(".sAct").removeClass("sAct")},D=function(a,b){var c=this,e=a;return a="prev"==b?a.prev().hasClass("category")?a.prev().prev().length?a.prev().prev():B.call(c," li:last-child"):a.prev().length?a.prev():B.call(c," li:last-child"):a.next().length?a.next().hasClass("category")?a.next().next():a.next():B.call(c," li:first-child"),c.curElm.find(".Sarw").hasClass("sAct")?a.find(".Sarw").addClass("sAct"):a.find(".Sbtn").addClass("sAct"),C(e),d.multiSearch||c.inpElm.val(r(a.find(".Sbtn").html())),a},E=function(b,c){var e=this;return c=a("#"+b),c=c.hasClass("category")?c.next():c,c.find(".Sbtn").addClass("sAct"),d.multiSearch||e.inpElm.val(r(c.find(".Sbtn").html())),c},F=function(a,b){var c;c="object"==typeof a?a.displayTextEn:a;var e="",f="",g="",h="";c=c.replace(/&amp;/gi,"&"),b.split(",")[1]&&d.multiSearch&&(b=T(b)),b=b.replace(/[\s]+/g," ").replace(/^\s/,"").toLowerCase();var i=c,j=i.toLowerCase(),k=j.indexOf(b),l=j,m=b,n=l.indexOf(" "+m)<0?!1:l.indexOf(" "+m),o=l.indexOf("("+m)<0?!1:l.indexOf("("+m),p=l.indexOf("/"+m)<0?!1:l.indexOf("/"+m);(k>=0&&(n||o||p)||0===k)&&(k&&(n?k=n+1:o?k=o+1:p&&(k=p+1)),f=i.substr(0,k),g=i.substr(k,b.length),h="<strong>"+i.substr(k+b.length,i.length)+"</strong>"),g=g?g:c;var q;q=b?f+g+h:g;var r=d.suggestOnClick?'<div class="wrapTable"><div tabindex="-1" class="Sbtn">'+f+g+h+'</div></div><span class="Sarw"></span>':'<div tabindex="-1" class="Sbtn" style="width:100%">'+q+"</div>";return e='<li class="sugTouple">'+r+"</li>"},G=function(a,b){var c={},e=0,f="";for(var g in b)d.vertical&&(f=g+"_"+d.vertical),(a[f]||a[g])&&(c[g]=a[f]||a[g],e++);return[c,e]},H=function(b,c,e){var f,g,h=this,i="";f="resultConcepts"==e?d.relatedConceptCategory:d.category,g=!e&&d.showTitleForSingleBucket?G(c,{rs:"rs"}):G(c,f);var j=g[1];c=g[0],b=b.replace(/&amp;/gi,"&");for(var k in c){var l="",m=0;for(var n in c[k])if(e||m++<d.maxSuggestions){var o=h.inpElm.val().replace(/\s,/g,",").replace(/,\s/g,",").toLowerCase();if(-1!=o.indexOf(",")&&-1!=a.inArray(c[k][n].displayTextEn.toLowerCase(),o.split(",")))continue;l+=F.call(h,c[k][n],b)}l&&j>1?i+=d.grouping?'<li class="category '+k+'">'+(d.category[k]?d.category[k]:k)+"</li>"+l:l:!e&&d.showTitleForSingleBucket?i+='<li class="category '+k+'">Last Searched Keywords</li>'+l:i=l}return a.isEmptyObject(c)||("resultCorrections"==e?i='<li class="category">'+d.relatedCorrectionText+"</li>"+i:"resultConcepts"==e&&(i='<li class="category">'+d.relatedConceptText+"</li>"+i)),i},I=function(){var a=_t.inpElm;d.placeholderTxt=a?a[0].getAttribute("placeholder"):"",a.val(d.placeholderTxt).css({color:"#8B8B8B"})},J=function(){_t.inpElm.val("").css({color:"#444"})},K=function(a){var b=this;O.call(b,b.queryChar,a.resultList,"autoComplete")},L=function(a){var b,c="";b=a?d.relatedConceptCategory:d.category;for(var e in b)c+=e+",";return c.replace(/,$/g,"")},M=function(){return a.isEmptyObject(d.qParams)?"":"&"+a.param(d.qParams)},N=function(a,b,c){var e=this,f="",g=d.appId?"&appId="+d.appId:"",h=d.sourceId?"&sourceId="+d.sourceId:"",k=new RegExp("[^a-zA-Z0-9,\\s"+d.whiteListSpecialChar+"]","g");if(e.Qry=b.replace(k,""),e.Qry){if(j()&&e.prefetchObj)var l=i.getItem(d.storageKey.versionKey),f=l?"&version="+l.suggester_v:0;return a+"query="+encodeURIComponent(e.Qry)+g+"&vertical="+d.vertical+"&category="+L.call(e,c)+"&limit="+d.maxSuggestions+h+f+M()}return!1},O=function(a,b,c){var d=this;d.curElm=void 0;var e=H.call(d,T(a),b,c);e?(d.dropCont.find("ul").html(e),W.call(d)):V.call(d)},P=function(a){var b=this;if(d.multiSearch&&(a=T(a)),a){var c=N.call(b,d.url.autoComplete,a,!1);l.call(b,c,function(a){K.call(b,a)})}},Q=function(a){var b=this;z=T(a);var c=R.call(b,z,"rc",d.relatedConceptCategory);if(c[0])V.call(b),b.dataType="relatedConcept",O.call(b,z,c[1],"resultConcepts"),b.RCMaxCntr++;else{V.call(b);var e=N.call(b,d.url.relatedConcept,z,!0);l.call(b,e,function(a){for(var c in a);O.call(b,z,a[c],c)})}},R=function(a,b,c){var e,f=0;if(a&&j()&&(e=v.call(this,a,b))){var g="";for(var h in c)d.vertical?(g=h+"_"+d.vertical,e[g]&&(f=1,this.cached=!0)):e[h]&&(f=1,this.cached=!0)}return[f,e]},T=function(b){var c=a.trim(b).replace(/,*$/g,"").toLowerCase();return a.trim(c.substring(c.lastIndexOf(",")+1,c.length))},U=function(){var b=this;return function(c){var e,f;a(this);a(c.target).hasClass("Sarw")?(e=a(c.target).parents("li"),flag=!0):(a(c.target).hasClass("Sbtn")||a(c.target).is("strong"))&&(e=a(c.target).closest("li"),flag=d.suggestOnClick?!1:!0),f=e.find(".Sbtn"),(!d.relatedConceptCategory||b.RCMaxCntr>=d.relatedConceptsLimit-1)&&(flag=!1,V.call(b)),b.posIndex=y(e,b.dropCont),d.suggestOnClick&&V.call(b),setTimeout(function(){A.call(b,f,flag)},50)}},V=function(){var b=this,c=b.id;C(b.curElm),b.dropCont.removeClass("slideDown"),b.curElm="",a("#"+c).find(".sWrap").removeClass("sOpen").addClass("sHide"),delete f[c],d.onHide&&d.onHide(),setTimeout(function(){b.enableRC_for_onfocus=!0},500)},W=function(){var b=this,c=b.id;d.width?b.wth=d.width:b.wth=a(document.getElementById(c)).outerWidth()+"px",b.dropCont.css({width:b.wth}).addClass("slideDown"),a("#"+c).find(".sWrap").removeClass("sHide").addClass("sOpen"),f[c]=b.dropCont,d.onShow&&d.onShow()},X=function(){var b=this;b.dropCont.on("mouseover",".Sbtn,.Sarw,strong",function(c){a(this).hasClass("Sbtn")?a(this).addClass("sAct"):a(this).is("strong")?a(this).parent().addClass("sAct"):a(this).addClass("sAct"),C(b.curElm),b.curElm=a(this)}).mouseout(function(c){b.curElm=void 0,C(a(this))})},Y=function(b){var c=b.target||b.srcElement;a(c).hasClass("inpWrap")&&a(this).find(".sugInp").focus()},Z=function(){var a={},b=[];for(var c in this.rs_kWrds)b.push({displayTextEn:this.rs_kWrds[c]});return a.rs=b,a},$=function(b){var c=this;val=a.trim(c.inpElm.val()),c.curOpenSugg=c.id,d.showDataOnFocus&&(a.trim(c.inpElm.val())||(d.category=a.extend({},d.category,{rs:"rs"}),c.rs_kWrdsStr?O.call(c,"",Z.call(c)):(m.call(c),c.rs_kWrdsStr&&O.call(c,"",Z.call(c))))),d.multiSearch&&val&&val!=d.placeholderTxt?(a.support.placeholder?c.inpElm.val(val.replace(/[,\s]*$/,", ")):setTimeout(function(){c.inpElm.val(val.replace(/[,\s]*$/,", "))},10),d.relatedConceptCategory&&c.enableRC_for_onfocus&&c.RCMaxCntr<d.relatedConceptsLimit-1&&Q.call(c,t(val))):!a.support.placeholder&&d.placeholder&&d.placeholderTxt==val&&J.call(c)},_=function(){var a=this.val();return a.charCodeAt(a.length-1)},aa=function(b,c){var e=this,f=(b.attr("id"),c.keyCode||c.which);(0==f||229==f)&&(f=_.call(b));var g=e.inpElm,h=e.id,i=a.trim(g.val());if(e.queryChar=i,13==f&&"block"==e.dropCont.css("display"))if(e.curElm){e.posIndex=y(e.curElm,e.dropCont);var j;!d.relatedConceptCategory||e.RCMaxCntr>=d.relatedConceptsLimit-1?(j=!1,e.RCMaxCntr++):j=d.suggestOnClick&&e.curElm.find(".Sbtn").hasClass("sAct")?!1:!0,A.call(e,e.curElm.find(".Sbtn"),j),j||V.call(e)}else V.call(e);else if(27==f)V.call(e);else if(i||8!=f&&46!=f)if(f>=48&&90>f||f>=97&&122>=f||16==f||188==f||8==f){if(c.ctrlKey&&86===f&&(i=i.replace(/,$/,""),g.val(i)),i)if("server"==d.source)if(188==f&&-1!=i.lastIndexOf(",")&&d.multiSearch)d.relatedConceptCategory&&Q.call(e,t(i));else{var k=d.multiSearch?s(i):i;if(k.length>d.startSearchAfter-1){var l=R.call(e,k,"ac",d.category);l[0]?(e.dataType="autoconcepts",O.call(e,i,l[1],"autoComplete")):P.call(e,i)}}else"local"==S.client[h]&&S.returnDataArray(h,i);a("#"+h).find(".sCross").show().click(function(){e.inpElm.val("").focus(),a(this).hide(),V.call(e),e.dropCont.find("ul").html("")})}else c.ctrlKey&&39==f||c.ctrlKey&&40==f?(e.curElm.find(".Sbtn").removeClass("sAct"),e.curElm.children(".Sarw").addClass("sAct")):c.ctrlKey&&37==f||c.ctrlKey&&38==f?(e.curElm.children(".Sarw").removeClass("sAct"),e.curElm.find(".Sbtn").addClass("sAct")):e.dropCont.find("li").length&&("none"==e.dropCont.css("display")&&40==f?W.call(e):38==f?(e.curElm?e.curElm=D.call(e,e.curElm,"prev"):e.curElm=E.call(e,h+" li:last-child",e.curElm),W.call(e)):40==f&&(e.curElm?e.curElm=D.call(e,e.curElm,"next"):e.curElm=E.call(e,h+" li:first-child",e.curElm)));else a("#"+h+" .sCross").hide(),V.call(e)},ba=function(a){var b=this,c=a.which||a.keyCode;if(38==c)a.preventDefault();else if(13==c)"block"==b.dropCont.css("display")&&b.curElm&&a.preventDefault();else if(9==c){if(b.curElm){var d=b.curElm.html().replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&");b.inpElm.val(x.call(b,d))}w.call(b),V.call(b)}},ca=function(b){var c,f=this;if(e=d.url.trackingURL,f.id=b.attr("id"),f.enableRC_for_onfocus=!0,f.RCMaxCntr=0,f.inpElm=b.find(".sugInp"),d.placeholderTxt=f.inpElm.attr("placeholder"),g[f.id]={},g[f.id].Events=[],d.trackUserInteraction&&(c={trackParams:a.stringify({id:f.id?f.id:"",sourceId:d.sourceId?d.sourceId:"",platform:d.platform?d.platform:"",appId:d.appId?d.appId:"",trackingSrc:d.trackingSrc?d.trackingSrc:""})}),f.inpElm.attr(a.extend({autocomplete:"off"},c)),d.maxlength=f.inpElm.attr("maxlength")||1e4,f.dropCont=a('<div class="sugCont '+d.scrollStyle+'" id="sugDrp_'+f.id+'">').append('<ul class="Sdrop"></ul>'),b.append(f.dropCont),!d.placeholder||a.support.placeholder||a.trim(f.inpElm.val())||I.call(this),f.inpElm.focus(function(){$.call(f)}).keyup(function(b){aa.call(f,a(this),b)}).keydown(function(a){f.curOpenSugg||(f.curOpenSugg=f.id),ba.call(f,a)}),b.find(".sWrap").click(Y),X.call(f),f.dropCont.on("click",".sugTouple",U.call(f)),p.call(f),d.trackUserInteraction&&j()&&e){var h=i.getItem("sug_Tracking");h&&l.call(f,e+"?lgData="+a.stringify(h),function(){i.removeItem("sug_Tracking")})}},da=function(a){this.node=a,ca.call(this,a),this.setTrackingObject=n},ea=this.data("suggestor");return ea||this.each(function(b,c){var d=a(c);ea=new da(d),d.data("suggestor",ea)}),ea}}(window.jQuery||window.Zepto);var DD=function(a,b,c){function d(){return arguments.length?function(a){}:function(){}}function e(a){var b=$(a.target).parents(".ddwn");if(!b.length&&Boolean(b.attr("searchDisabled"))!==!0){var c=$(".ddwn");c.find(".DDwrap").removeClass("brBotN"),c.find(".drop").hide()}}function f(a){function b(a){return function(){var b=$(this).attr("id"),c=a[b],d=c.id;if(d)for(var e in d){d[e];l.chkBox?l.removeAllTags():(l.inpElm.val(""),l.inpHid.data("optGroupKey","")),l.Allflg="",l.hideDD()}c.clrCalbackfun&&l.onClearTag[b](l.obj,0,$(this))}}for(var c=0;c<l.idLen;c++){var d,e=l.idKey[c];if(l.clearAllInside){var f="Clear All";for(var g in l.clearAllInside)f=l.clearAllInside[g];d=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+e}).html(f)}var h=$("#"+e).find(".srchTxt");if(!l.dpLyr||!l.dpLyr.length){var i=h.attr("name");h.data({name:i});var j;$("#"+e).find(".arw").addClass("DDarwDwn");l.chkBox?j=$("#"+e).find(".DDsearch li"):(j=$("#"+e).find(".DDsearch"),$("#"+e).addClass("singleSelect")),h.data({id:"inp_"+e,placeholder:h.attr("placeholder")}).attr({name:"",autocomplete:"off"}),l.isSearch||h.attr("readonly","readonly"),l.outerCont.find(".frst").css({"float":"none"}),$("#hid_"+e).length||(l.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+e,name:i}),j.append(l.inpHid));var k=$("<div>"),m=$("<div>"),n=$("<ul>"),o=$("#"+e),p=l.chkBox?"ChkboxEnb":"";l.dpLyr=k,m.addClass("nScroll").attr("id","ul_"+e),k.addClass("drop").attr("id","dp_"+e),n.addClass(p),m.append(n),d?k.append(d):"",k.append(m),o.append(k),$("#"+e).on("click",".DDinputWrap, .DDsearch, .arw",function(a){a.stopPropagation(),h[0].focus()}).on("mouseenter",function(){l.layerOpenStatus=l.srchBx!==!1?!0:!1}).on("mouseleave",function(){l.layerOpenStatus=!1})}l.bindEvents(h),l.layerOpenStatus=l.srchBx!==!1?!0:!1}if(l.fillData(),l.clrId)for(var g in l.clrId)$("#"+g).on("click",b(l.clrId))}function g(){var a=l.id;lastOpen=a,$("#"+a).find(".DDwrap").addClass("brBotN"),$("#"+a).find(".drop").show(),$("#ul_"+a)[0].scrollTop=0;var b=$("#"+a).outerWidth()-2+"px";l.dpLyr.css({width:b}),l.max_height(),l.chkBox||l.firstHighlight()}function h(a){$(document).on("keydown",l.disb_Scroll_handler)}function i(a){$(document).off("keydown")}function j(a){return a>n?n+=5:void(n+=1)}function k(a,b){if(""!==l.inpElm.val()&&n>m){if(b>n)return n-=5;n-=1}}var l=this,m=30;l.obj=a;var n=l.obj.postPlaceholder?l.obj.postPlaceholder.width:30;l.prefillData=a.prefillData,l.parentRefData={},l.liCntrFx=[],l.preventClickFor=a.preventClickFor||[],l.onDeselect=a.onDeselect,l.liCntr=[],l.isReset=!0,l.sortPrefix=a.sortPrefix,l.idKey=[],l.hidValue=[],l.maxTagsCount=a.maxTagsCount||999,l.pKey=c,l.idLen=0,l.tagwithOptGroup=a.tagwithOptGroup||!1,l.srchBx=a.searchBox===!1?!1:!0,l.clrId=a.clearTagId,l.tagsSorting=a.tagsSorting===!1?!1:!0,l.MrgPrfAryOrdr=a.appendTags||!1,l.onClearTag=[];for(l.idKey[l.idKey.length]in a.id);l.idLen=l.idKey.length,l.sugHgt=a.maxHeight||300,l.clearAllInside=a.clearAllInside||!1,l.parentChkBox=a.parentChkBox||!1,l.chkBox=a.checkBox||!1,l.allChk=a.allChk||!1,l.allChecked=a.allChecked||!1,l.layerOpenStatus=!1,l.tags=a.tags===!1?a.tags:!0,l.TagSpCnt=a.tagInSepContainer||!1,l.id=l.idKey[0],l.preTxt=a.preText===!1?"":a.preText||"You have selected",l.Allflg="",l.postTxt=a.postText===!1?"":a.postText||"item(s)",l.curActElm="",l.Tagfocus=0,l.onClickAll=a.onClickAll||d(),l.onClickLi=a.onClickReq||d(),l.onTagClk=a.onTagClick||d(),l.onTagCrt=a.onTagCreate||d(),l.outerCont=$("#"+l.id),l.inpElm=l.outerCont.find(".srchTxt"),l.TagCnt=0,l.tagTitle=a.tagTitle||!1,l.optgrpNameRef=[],l.optgrpObject={},l.onChange=a.onChange||d(),l.showSelText=a.showSelText||!1,l.isReadOnly=l.inpElm.is("[readonly]"),l.preserveText=a.preserveText||!1,l.pKey?(l.chkBox||(DD.Ary[l.id]={}),DD.Ary[l.id]||(DD.Ary[l.id]={}),DD.Ary[l.id][l.pKey]=a.id[l.id][0],l.Ary=DD.Ary[l.id]):(l.Ary={},l.Ary.A=a.id[l.id][0]),l.prefillData=a.prefillData||l.obj.id[l.id][1],l.isSearch=0==a.isSearch?!1:!0,DD.lastRef.iseventBindOnDocument||($(document).on("click",function(a){e(a)}),$(document).on("focus",".srchTxt",function(a){window.lastOpen&&"block"==$("#"+window.lastOpen).find(".drop").css("display")&&(e(a),$("#"+window.lastOpen).find(".drop").hide(),$("#"+window.lastOpen).find(".DDwrap").removeClass("brBotN"))}),DD.lastRef.iseventBindOnDocument=!0);var o=function(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;")},p=function(a){if(-1!=a.indexOf("<b>")){a=a.split("<b>");var b=a[1].split("</b>"),c=[a[0],b[0],b[1]],d=[];for(var e in c)d.push(o(c[e]));return d[0]+"<b>"+d[1]+"</b>"+d[2]}return o(a)};l.replaceTag=function(a){return-1!=a.toString().indexOf("<")?p(a):a},l.setLi=function(a){var b=this;if($("#ul_"+a).find("li").length<b.liCntr){var c=b.appendData(b.Ary,"","",!0);b.dpLyr.find("ul").html(c[0]),b.liCntr=b.liCntrFx}},l.obj.resetPrefillValues?l.ChkBoxContr={}:l.ChkBoxContr?"":l.ChkBoxContr={};for(var q in a.clearTagId)for(var r in a.clearTagId[q])l.onClearTag[q]=a.clearTagId[q][r];l.Fn={preserveEventafterClone:function(b,c){var d,e=l.id;d=l.TagSpCnt?$("#"+l.TagSpCnt).find('[data-id="'+b+'"]'):$("#"+e).find(".DDsearch").find('[data-id="'+b+'"]'),d.on("click",".dCross",function(d){d.stopPropagation(),l.removeTag(b,$(this).find(".tagTxt").text(),c),l.max_height(),c?l.onTagClk(a,l.TagCnt):"",l.setInputText(),"block"==l.dpLyr.css("display")?$("#"+e).find(".srchTxt")[0].focus():""})},keyUpEv:function(a){var b=$(this).data("id"),c=$("#"+b).width()-15,d=(b.split("_")[1],a.keyCode||a.which),e=$(this).val().replace(/\b/g,"");if(13==d&&l.curActElm&&l.curActElm.length&&!l.curActElm.hasClass("noData")&&l.curActElm.hasClass("active")){var f=l.curActElm.children("a");if(l.chkBox){var g=f.data("id")+"_"+l.Escp(l.curActElm.attr("bindto"));f.hasClass("chkd")?l.removeTag("tg_"+g,f.html(),!0):l.CreateTags(f,g,"",l.tags)}else l.SingleSelection(f.text(),f.data("id").split("_")),l.hideDD()}8==d&&l.chkBox&&!l.TagSpCnt&&l.tags!==!1&&(e?wth=k(b,c)+"px":""!=l.inpHid.val()?wth=n+"px":wth="",l.inpElm.css({width:wth})),l.isReadOnly||9==d||13==d||18==d||32==d||37==d||38==d||39==d||40==d||16==d||(l.Fn.initSearch(e,b,d),"none"==l.dpLyr.css("display")&&l.dpLyr.show())},initSearch:function(a,b,c){var d="";srchCntr=0,b=b.split("_")[1];var e=l.Ary;if(a){a=a.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var f in e)for(var g in e[f])if("object"==typeof e[f][g]){var h,i="";h=e[f][g];for(var j in h)i+=l.searchData(h[j],a,b,b+"_"+j+"_"+l.eUnderScore(g),l.Escp(f));i&&(d+='<li class="optgroup">'+l.eUnderScore(g)+"</li>"+i,srchCntr++)}else $("#"+b).find(".cross").show(),d+=l.searchData(e[f][g],a,b,b+"_"+l.eUnderScore(g),l.Escp(f)),srchCntr++}else $("#"+b).find(".cross").hide(),d=l.appendData(l.Ary,"","",c)[0],srchCntr=l.liCntrFx;if(!d){var k=l.obj.noDataTxt?l.obj.noDataTxt:"No data found in search";d='<li class="noData">'+k+"</li>",srchCntr++}l.dpLyr.find("ul").html(d),l.liCntr=srchCntr,l.max_height(),l.firstHighlight()}},l.blurEv=function(a){var b=l.id;if(!l.TagSpCnt&&l.chkBox?$("#"+b).find(".tagit:last").removeClass("TagSelected"):"",l.isReadOnly&&i(a),l.layerOpenStatus||l.hideDD(),!l.chkBox){var c=l.inpHid,d=l.inpElm,e=l.uEscp(c.attr("opt")),f=c.attr("value"),g=l.Ary.A,h=e?g[e][f]:g?g[f]:"";d.val()?h&&d.val(h).css({color:"#444"}):(c.val(""),"none"==l.dpLyr.css("display")&&l.onChange(""),l.onDeselect&&l.onDeselect())}},l.focusEv=function(a){l.layerOpenStatus=l.srchBx!==!1?!0:!1,l.inpt=$(this);var b=$(this).data("id");b.split("_")[1];l.DDSearch=$(this).parent(".DDSearch"),g(),l.isReadOnly&&h(a),$("#"+b).css({color:"#444"})},l.keyDownEv=function(a,b){var c,d=l.id,e=a.keyCode||a.which,f=$("#"+d).width()-15,h=b.val().replace(/\b/g,""),i=l.dpLyr.css("display");if((13==e||38==e)&&a.preventDefault(),13==e&&"none"==i&&!l.chkBox&&l.obj.form&&l.obj.form[0].submit(),9==e||27==e?l.hideDD():"",(e>=97&&122>=e||e>=65&&90>=e||e>=48&&57>=e)&&!l.TagSpCnt&&l.chkBox&&l.tags!==!1&&(c=j(f),l.inpElm.css({width:c+"px"})),!h&&l.chkBox){var k=$("#"+d).find(".tagit:last"),m=k.data("id");l.TagCnt>0&&8==a.keyCode&&!l.TagSpCnt&&m&&m.length>0?l.Tagfocus?(l.removeTag(m,k.children(".tagTxt").html(),!0),l.Tagfocus=0):($("#"+d).find(".DDsearch").find('[data-id="'+m+'"]').addClass("TagSelected"),l.Tagfocus=1):m&&($("#"+d).find(".DDsearch").find('[data-id="'+m+'"]').removeClass("TagSelected"),l.Tagfocus=0)}var n=$("#ul_"+d),o=n.find("ul"),p=o.find("li:first-child");if(l.curActElm.length||(l.curActElm=p),40==e)if("none"==i)l.hideDD(),g();else{var q,r=l.curActElm.next();r.length&&!r.hasClass("noData")&&(q=r.hasClass("optgroup")?r.next():r,l.curActElm.removeClass("active"),q.addClass("active"),l.curActElm=q,ieObj.scrollHandler(l.dpLyr,o.parent(),p,l.curActElm))}else if(38==e){var s,t=l.curActElm.prev();t.length&&(s=t.hasClass("optgroup")?t.prev():t,s.length&&(l.curActElm.removeClass("active"),s.addClass("active"),l.curActElm=s,ieObj.scrollHandler(l.dpLyr,o.parent(),p,l.curActElm)))}},l.fillDatainDropdwonLayer=function(a,b,c,d,e){l.inpElm;l.chkBox&&l.inpHid.attr({value:""}),l.srchBx===!1?($("#"+a).attr("searchDisabled",!0).find(".DDwrap").hide(),$("#"+a).find(".drop").css({position:"static"})):$("#"+a).find("div.drop").css({borderTop:0}),$("#ul_"+a).find("ul").html(b),b="",l.srchBx===!1?g():"",(l.allChk||l.parentChkBox)&&l.chkForParent(l.optgrpObject,l.DATA)},l.liMousehover=function(){l.id;l.dpLyr.on("mouseover","li.pickVal",function(){l.curActElm.length?"":l.firstHighlight(),l.curActElm.removeClass("active"),$(this).addClass("active"),l.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},l.max_height=function(){for(var a=l.id,b=$("#ul_"+a),c=0,d=$("#ul_"+a).find(" ul li:first");d.length&&l.sugHgt>=c;)c+=d.outerHeight(),d=d.next();l.sugHgt<c?b.css({height:l.sugHgt+"px"}):b.css({height:c+"px",width:"100%"}),b.length&&b[0].csb&&b[0].csb.reset()},l.PickValuesFromDD=function(){var b;l.id;l.dpLyr.on("click",".pickVal a",function(c){if(l.chkBox){var d=0,e=$(this),f=e.data("id");if(l.parentChkBox)var g=$(this).data("id").split("_"),h=g[g.length-1];if($(this).hasClass("chkd")&&(d=1),b=e.html(),f.split("_")[1]==l.eUnderScore(l.otherLabId))1==d?l.onClickLi(a,l.otherLabId,"unChecked"):l.onClickLi(a,l.otherLabId,"checked"),l.hideDD();else{var g=$(this).data("id").split("_");if(l.parentChkBox)var h=l.dUnderScore(l.uEscp(g[g.length-1])),i=g[g.length-2];else var h="All",i=g[g.length-1];if(1==d){var j=f;if($(this).parent().attr("bindto")&&(j=f+"_"+l.Escp($(this).parent().attr("bindto"))),l.removeTag("tg_"+j,b,!0),l.parentChkBox||l.allChk){var k=l.optgrpObject[h].checked.indexOf(i);k>-1&&l.optgrpObject[h].checked.splice(k,1),l.optgrpObject[h].unchecked.push(i),l.chkForParent(l.optgrpObject,"")}}else{var m=$(this).parent().attr("bindto");if(m?f=f+"_"+l.Escp(m):"",l.CreateTags(e,f,"",l.tags),l.parentChkBox||l.allChk){var k=l.optgrpObject[h].unchecked.indexOf(i);k>-1&&l.optgrpObject[h].unchecked.splice(k,1),l.optgrpObject[h].checked.push(i),l.chkForParent(l.optgrpObject,"")}}l.srchBx!==!1?setTimeout(function(){l.inpElm[0].focus()},100):""}}else l.SingleSelection($(this).text(),$(this).data("id").split("_"))})},l.SingleSelection=function(b,c){var d=c[0],e=c[2]?c[2]:"";l.inpElm?l.inpElm.val(b):"",$("#"+d).find(".cross").show();var f=l.dUnderScore(l.uEscp(c[1])).replace(l.sortPrefix,"");l.inpHid.attr({value:f}).data("optGroupKey",e),l.layerOpenStatus&&l.hideDD(),l.onClickLi(a,f),l.onChange(f)},l.CreateTags=function(b,c,d,e){var f=l.id,g=c.split("_")[1];if(e="-1"==$.inArray(g,l.preventClickFor)&&0!=e?!0:!1,l.hidValue.length<l.maxTagsCount){var h,i=l.uEscp(c).split("_"),j=c.split("_"),k=3==j.length?j[0]+"_"+j[1]:j[0]+"_"+j[1]+"_"+j[2];if("string"!=typeof b?(h=b.html(),b.addClass("chkd")):h=b,l.TagCnt++,l.obj.postPlaceholder&&l.obj.postPlaceholder.text?l.inpElm.attr("placeholder",l.obj.postPlaceholder.text):l.inpElm.attr("placeholder",""),e!==!1){h=h.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),l.tagwithOptGroup?h="<b>"+i[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+h+")":"";var m,o=$("<li>").append('<span class="tagTxt">'+h+"</span>"),p="tg_"+c;l.tagTitle&&o.attr("title",h);var q=l.TagSpCnt;if(q||e===!1){var r=o.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":p}),s=$("#"+q)[0];if(l.MrgPrfAryOrdr){var t=s.children[d];t?t.parentNode.insertBefore(r[0],t):$("#"+q).append(r)}else e===!1?"":s.insertBefore(r[0],s.firstChild);l.inpElm.css({color:"#444"}),m=p+" a.dCross"}else l.MrgPrfAryOrdr?$("#"+f).find(".DDsearch li:last").before(o.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":p})):$("#"+f).find(".DDsearch").prepend(o.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":p})),l.inpElm.css({width:n+"px"}),m=p+" span.dCross";l.Fn.preserveEventafterClone(p,!0)}$("#ul_"+l.id).find('[data-id="'+k+'"]').addClass("chkd"),l.setValueInHiddenField(i[1],h),l.ChkBoxContr[i[1]]=c,l.onClickLi(a,l.dUnderScore(l.uEscp(i[1])),"Checked",$('li[data-id="tg'+c+'"]'),l.TagCnt),l.setInputText()}else l.onTagCrt("Maximum Tags Created");l.tags&&!l.TagSpCnt&&(l.inpElm.val(""),l.setLi(l.id),l.max_height())},l.disb_Scroll_handler=function(a){var b=a.keyCode;return 40===b||38===b||32===b?(a.preventDefault(),!1):void 0},l.setValueInHiddenField=function(a,b,c){var d=l.id;if(a&&b){"all"==b.toLowerCase()&&(l.Allflg="all"),a=l.dUnderScore(l.uEscp(a)).replace(l.sortPrefix,"");var e=l.inpHid.val();e?(l.hidValue.push(a),l.inpHid.val($.stringify(l.hidValue))):(l.hidValue.push(a),l.inpHid.val($.stringify(l.hidValue)),$("#clrAll_"+d).show(),l.TagSpCnt?$("#"+l.TagSpCnt).show():$("#"+d).find("li.frst").css({"float":"left"})),l.onTagCrt()}else c!==!1&&(l.inpElm.val(""),l.inpHid.val(""));l.onChange(l.hidValue)},f(),l.PickValuesFromDD(),l.liMousehover(),l.clickParent(),l.clickMain(),this.allChecked&&$('li.optgroup[data-id="opt_all"]').click()};DD.prototype.bindEvents=function(a){var b=this;b.inpElm.on("focus click",b.focusEv).on("keydown",function(a){b.keyDownEv(a,$(this))}).on("keyup",b.Fn.keyUpEv).on("blur",b.blurEv)},DD.prototype.disable=function(){var a=this;$("#"+a.id).addClass("disable"),a.inpElm.attr("readonly","readonly"),a.inpElm.off("click focus keydown keyup blur")},DD.prototype.enable=function(){var a=this,b=$("#"+a.id);b.hasClass("disable")&&(b.removeClass("disable"),a.inpElm.removeAttr("readonly"),a.bindEvents())},DD.prototype.prefillDataFormation=function(a){var b=this,c=(b.id,{});if(b.chkBox){if(a)for(var d in a)c[a[d]]="1"}else c=a;return c},DD.prototype.removeAllTags=function(){var a=this,b=a.id;for(var c in a.ChkBoxContr){var d,e=a.ChkBoxContr[c],f=e.split("_");if(3==f.length?d=f[0]+"_"+f[1]:4==f.length&&(d=f[0]+"_"+f[1]+"_"+f[2]),$("#ul_"+b).find('[data-id="'+d+'"]').removeClass("chkd"),a.TagSpCnt?$("#"+a.TagSpCnt).find('[data-id="tg_'+e+'"]').remove():$("#"+b).find(".DDsearch").find('[data-id="tg_'+e+'"]').remove(),a.parentChkBox||a.allChk){if(a.parentChkBox)var g=a.dUnderScore(a.uEscp(f[2]));else var g="All";var h=f[1],i=a.optgrpObject[g].checked.indexOf(h);i>-1&&a.optgrpObject[g].checked.splice(i,1),a.optgrpObject[g].unchecked.push(h)}}a.parentChkBox&&$("#ul_"+b).find('li a[data-id="'+b+'"]').removeClass("chkd"),a.allChk&&($("#ul_"+b).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),a.onClickAll("unchecked")),a.resetInpWidth(b),a.ChkBoxContr={},a.inpHid.val(""),a.hidValue=[],a.TagCnt=0,a.setPlaceHolderAttribute()},DD.prototype.destroy=function(){var a=this,b=a.id;a.dpLyr.remove(),a.inpHid.remove(),$("#"+b).find(".DDsearch .tagit").remove(),a.inpElm.val("").attr({placeholder:a.inpElm.data("placeholder"),name:a.inpElm.data("name")}),a.inpElm.removeAttr("autocomplete style"),a.inpElm.off("focus keydown keyup blur")},DD.prototype.removeTag=function(a,b,c,d){var e=this,f=e.id,g=a.replace("tg_",""),h=g.split("_"),i=$.parseJSON($("#hid_"+f).val()),j=4==h.length?h[0]+"_"+h[1]+"_"+h[2]:h[0]+"_"+h[1];if(-1!=$.inArray(e.dUnderScore(e.uEscp(h[1])),i)){if($("#ul_"+f).find('[data-id="'+e.Escp(j)+'"]').removeClass("chkd"),
e.parentChkBox){var k=j.split("_");k=k[k.length-1];for(key in e.parentRefData[k])$(e.parentRefData[k][key]).find("a").hasClass("chkd")||($("#ul_"+f).find('li[data-id="opt_'+k+'"]').find("a").removeClass("chkd"),$("#ul_"+f).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+f).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),e.onClickAll("unchecked")))}d?$("#"+d).remove():e.TagSpCnt?$("#"+e.TagSpCnt).find('[data-id="'+a+'"]').remove():$("#"+f).find(".DDsearch").find('[data-id="'+a+'"]').remove(),e.emptyHidField(g.split("_")[1],f,b),e.TagCnt--,e.TagCnt||e.setPlaceHolderAttribute();for(var l in e.ChkBoxContr)e.ChkBoxContr[l]==g&&delete e.ChkBoxContr[l];c?e.onClickLi(e.obj,e.dUnderScore(e.uEscp(h[1])),"Unchecked","",e.TagCnt):"",e.setInputText()}},DD.prototype.fillData=function(){for(var a=[],b=this,c=b.id,d=0;d<b.idLen;d++){var e=b.prefillDataFormation(b.prefillData);a[c]=e;b.inpHid.val()&&b.removeAllTags(),b.NLi=b.appendData(b.Ary,a,e),b.fillDatainDropdwonLayer(c,b.NLi[0],d,b.NLi[3],b.NLi[4]),b.liCntrFx=b.liCntr=b.NLi[1],b.createTags_ifPrefillData(b.NLi[2])}},DD.prototype.appendData=function(a,b,c,d){var e,f,g="",h=this,i=h.id,j=[],k="",l=0,m=0;h.allChk&&(g+=h.createParLi("all","All","0",!0));for(var n in a){f=n;for(var o in a[n]){var p=o.replace(h.sortPrefix,""),q=h.eUnderScore(h.Escp(p));if("object"==typeof a[n][o]){var r=h.parentChkBox;g+=h.createParLi(q,o,i,r);var s=[];l++;var t=[];h.optgrpObject[o]={},h.optgrpObject[o].checked=t,h.optgrpObject[o].unchecked=s;for(var u in a[n][o]){c&&void 0!=c[u]?t.push(u):s.push(u),h.optgrpNameRef[u]={pName:o,text:a[n][o][u]};var v=h.Escp(u).replace(h.sortPrefix,"");if(b[i])if(b[i][u]){var w;if(parseInt(b[i][u])?w=u:"",w===u){h.inpVal=u,k=a[n][o][u];var x=n?i+"_"+v+"_"+q+"_"+n:i+"_"+v+"_"+q,y=[k,x,i,v];j[m++]=y,l++,g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n),e=q}}else{c===u&&(h.inpVal=u,k=a[n][o][u],e=q),l++;var z=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,z)}else{c===u&&(h.inpVal=u,k=a[n][o][u]);var A=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,A),l++}}}else{if(h.optgrpNameRef[o]={text:a[n][o]},h.allChk){var s=[],t=[];h.optgrpObject.All={},h.optgrpObject.All.checked=t,h.optgrpObject.All.unchecked=s;for(var u in a[n])void 0!=c[u]?t.push(u):s.push(u)}if(h.optgrpNameRef[o]={text:a[n][o]},h.chkBox){var B="";if(b&&!$.isEmptyObject(b[i])&&(b[i][p]?B=p:""),B==p){var C=[a[n][o],i+"_"+q+"_"+n,i,o];j[m++]=C,g+=h.createLi(i+"_"+q,a[n][o],n,""),l++}else{var D=h.selCheckBox(i,q,n);g+=h.createLi(i+"_"+q,a[n][o],n,D),l++}}else h.prefillData==p?(g+=h.createLi(i+"_"+q,a[n][o]),h.inpVal=p,k=a[n][o],l++,d?"":h.SingleSelection(a[n][o],[i,p])):(g+=h.createLi(i+"_"+q,a[n][o]),l++)}}}if(!g){var E=h.obj.noDataTxt?h.obj.noDataTxt:"No data found in search";g='<li class="noData">'+E+"</li>"}if(h.chkBox&&h.tagsSorting===!1){var F=[],G=0;for(var H in c)for(var I in j)j[I][3]==H&&(F[G++]=j[I]);j=F}return $.extend(h.Ary[f],a[f]),[g,l,j,k,e]},DD.prototype.chkForParent=function(a,b){var c=0,d=0;for(key in a)c++,0==a[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),d++):$('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($('li[data-id="opt_all"]').find("a").removeClass("chkd"),this.onClickAll("unchecked"));c==d&&($('li[data-id="opt_all"]').find("a").addClass("chkd"),this.onClickAll("checked"))},DD.prototype.Escp=function(a){return a?a.replace(/\s/g,"SxP"):""},DD.prototype.uEscp=function(a){return a?a.replace(/SxP/g," "):!1},DD.prototype.eUnderScore=function(a){return a?a.replace(/\_/g,"undrxxscr"):""},DD.prototype.dUnderScore=function(a){return a?a.replace(/undrxxscr/gi,"_"):""},DD.prototype.clickParent=function(){var a=this,b=a.id;$("#ul_"+b).on("click","li.optgroup",function(){var a=this,b=$(this).nextUntil("li.optgroup"),c=b.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")&&$(b).eq(i).find("a").click();$(a).children("a").removeClass("chkd")}else{for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")||$(b).eq(i).find("a").click();$(a).children("a").addClass("chkd")}})},DD.prototype.clickMain=function(){var a=this,b=a.id;$("#ul_"+b).on("click",'li.optgroup[data-id="opt_all"]',function(b){b.stopImmediatePropagation();var c=this,d=$(this).siblings("li.optgroup"),e=d.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=e;j++)$(d).eq(j).find("a").hasClass("chkd")||$(d).eq(j).click();$(c).children("a").addClass("chkd")}else{for(j=0;j<=e;j++)$(d).eq(j).find("a").hasClass("chkd")&&$(d).eq(j).click();$(c).children("a").removeClass("chkd"),a.onClickAll("unchecked")}})},DD.prototype.searchData=function(a,b,c,d,e){var f="",g=this,a=a.toString();if(getPos=a.toLowerCase().indexOf(b.toLowerCase()),strLower=a.toLowerCase(),sTxtValueLower=b.toLowerCase(),spaceVal=strLower.indexOf(" "+sTxtValueLower)<0?!1:strLower.indexOf(" "+sTxtValueLower),bracketVal=strLower.indexOf("("+sTxtValueLower)<0?!1:strLower.indexOf("("+sTxtValueLower),slashVal=strLower.indexOf("/"+sTxtValueLower)<0?!1:strLower.indexOf("/"+sTxtValueLower),getPos>=0&&(spaceVal||bracketVal||slashVal)||0===getPos){getPos&&(spaceVal?getPos=spaceVal+1:bracketVal?getPos=bracketVal+1:slashVal&&(getPos=slashVal+1));var h=a.substr(0,getPos),i="<b>"+a.substr(getPos,b.length)+"</b>",j=a.substr(getPos+b.length,a.length),k=g.Escp(d).replace(g.sortPrefix,"");f=g.selChkBox(k+"_"+e,c)?g.createLi(k,h+i+j,e,"chkd"):g.createLi(k,h+i+j,e)}return f},DD.prototype.selChkBox=function(a,b){var c=0,d=this;for(var e in d.ChkBoxContr)a==d.ChkBoxContr[e]&&(c=1);return c?!0:!1},DD.prototype.selCheckBox=function(a,b,c,d){var e=0;for(var f in this.ChkBoxContr){e=1;break}return e?d?this.selChkBox(a+"_"+d+"_"+b+"_"+c,a)?"chkd":"":this.selChkBox(a+"_"+b+"_"+c,a)?"chkd":"":void 0},DD.prototype.createParLi=function(a,b,c,d){return d=d?'class="'+d+'"':"",d?'<li class="optgroup" data-id=opt_'+a+'><a href="javascript:;" data-id='+c+">"+b+"</li>":'<li class="optgroup" data-id=opt_'+a+">"+b+"</li>"},DD.prototype.createLi=function(a,b,c,d){return c=c?'bindTo="'+c+'"':"",d=d?'class="'+d+'"':"",'<li class="pickVal" '+c+'><a href="javascript:;" '+d+" data-id="+a+">"+this.replaceTag(b)+"</a></li>"},DD.prototype.resetInpWidth=function(a){$("#clrAll_"+a).hide(),this.inpElm.css({width:""}),$("#"+a).find("li.frst").css({"float":"none"})},DD.prototype.firstHighlight=function(){var a,b=this,c=b.id,d=$("#ul_"+c),e=d.find("ul");b.curActElm&&b.curActElm.removeClass("active"),b.curActElm=e.find("li:first-child");var f=b.Escp(b.inpHid.attr("value"));f&&!b.chkBox?(b.curActElm.removeClass("active"),a=b.inpHid.data("optGroupKey")?c+"_"+f+"_"+b.inpHid.data("optGroupKey"):c+"_"+f,b.curActElm=e.find('[data-id="'+a+'"]').parent().addClass("active")):b.curActElm.addClass("active")},DD.prototype.emptyHidField=function(a,b,c){var d=this;c&&"all"==c.toLowerCase()?d.Allflg="":"";var e,f=d.dUnderScore(d.uEscp(a)).replace(d.sortPrefix,""),g=$.inArray(f,d.hidValue);-1!==g&&(d.hidValue.splice(g,1),e=$.stringify(d.hidValue)),0==d.hidValue.length&&(d.resetInpWidth(b),e=d.hidValue),d.inpHid.val(e),d.onChange(d.hidValue)},DD.prototype.setInputText=function(){var a,b=this,c=b.id,d="";if(a="all"==b.Allflg?"all":b.TagCnt,b.TagCnt)if(b.showSelText&&b.hidValue.length){for(var e=0;e<b.hidValue.length;e++)d+=b.Ary.A[b.hidValue[e]]+", ";d=d.slice(0,-2),b.TagSpCnt||b.tags===!1?b.inpElm.val(d):""}else b.TagSpCnt||b.tags===!1?b.inpElm.val(b.preTxt+" "+a+" "+b.postTxt):"";else b.inpHid.val()||b.preserveText||($("#"+c).find(".cross").hide(),b.inpElm.val(""),b.inpElm.css({width:""}))},DD.prototype.setPlaceHolderAttribute=function(){var a=this;a.inpElm.attr("placeholder",a.inpElm.data("placeholder")),a.inpElm.parents(".frst").css({"float-left":"none"})},DD.prototype.removeData=function(a){var b=this,c=(b.id,0);b.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==a.key){var d=$(this).children("a");if(d.length){var e=d.data("id");d.hasClass("chkd")&&(delete b.ChkBoxContr[b.uEscp(e.split("_")[1])],b.removeTag("tg_"+e+"_"+b.Escp(a.key),d.html(),!0))}c++,$(this).remove()}}),delete b.Ary[a.key],b.liCntr=b.liCntr-c,$("#ul_"+b.id).find("li").length||$("#"+b.id).find(".tagit").remove()},DD.prototype.removeBlockofData=function(a){this.removeData(a)},DD.prototype.addSelected=function(a,b){var c=this.id;for(var d in a)this.CreateTags(a[d],c+"_"+d+"_A",0,b)},DD.prototype.deleteSelected=function(a){var b=this.id;for(var c in a.keyObject)this.removeTag("tg_"+b+"_"+a.keyObject[c]+"_A","",a.tag_onof_flag,a.remId)},DD.prototype.select=function(a){var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];-1==$.inArray(e[0],b.hidValue)&&(g.pName?b.CreateTags(g.text,c+"_"+e+"_"+g.pName+"_A"):b.CreateTags(g.text,c+"_"+e+"_A"))}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection(b.optgrpNameRef[a.key].text,[c,a.key])}},DD.prototype.deselect=function(a){var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];g.pName?b.removeTag("tg_"+c+"_"+a.key[d]+"_"+g.pName+"_A"):b.removeTag("tg_"+c+"_"+a.key[d]+"_A")}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection("",[c])}},DD.prototype.addData=function(a){var b=this,c={},d=[];a.status||(a.status="Checked");var e=a.key?a.key:"A";if("Checked"==a.status){c[e]=a.data;var f=b.prefillDataFormation(a.prefillData);d[b.id]=f,b.NLi=b.appendData(c,d,f),$("#ul_"+b.id).find("ul").append(b.NLi[0]),b.createTags_ifPrefillData(b.NLi[2]),b.liCntr+=b.NLi[1]}else"Unchecked"==a.status&&this.removeBlockofData(a)},DD.prototype.createTags_ifPrefillData=function(a){var b=this;b.id;if(b.chkBox&&a)for(var c=0;c<a.length;c++){for(var d in b.prefillData)if(b.prefillData[d]==a[c][3])break;b.CreateTags(a[c][0],a[c][1],d,b.tags)}b.setInputText()},DD.prototype.replaceData=function(a){var b=this;id=b.id;var c=a.isReset===!1?a.isReset:b.isReset,d=[],e=b.inpHid,f=$.trim(e.val());b.prefillData=a.prefillData;if(b.chkBox&&f&&(b.TagSpCnt?$("#"+b.TagSpCnt).find(".tagit").remove():$("#"+id).find(".DDsearch").find(".tagit").remove(),b.resetInpWidth(id),b.ChkBoxContr={},e.val(""),b.hidValue=[],b.TagCnt=0,b.setPlaceHolderAttribute()),c&&(b.inpElm.val(""),e.val("")),$.isEmptyObject(a.data))throw"Either data object is empty or undefined";b.Ary={A:a.data},b.ChkBoxContr=[];var g=b.prefillDataFormation(a.prefillData);d[id]=g;var h=b.appendData(b.Ary,d,g);b.dpLyr.find("ul").html(h[0]),b.createTags_ifPrefillData(h[2]),b.liCntr=h[1]},DD.prototype.hideDD=function(){var a=this,b=a.id;"block"==a.dpLyr.css("display")&&(a.dpLyr.hide(),$("#"+b).find(".DDwrap").removeClass("brBotN"),a.chkBox||(a.curActElm?a.curActElm.removeClass("active"):"",a.inpHid.val()||a.preserveText||a.inpElm.val("")),a.setInputText()),a.srchBx!==!1&&a.setLi(b)},DD.Ary={},DD.lastRef={};